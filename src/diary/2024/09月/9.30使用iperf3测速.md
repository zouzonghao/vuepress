---
title: 使用iperf3测速
icon: file
order: 3
author: 三七
date: 2024-09-30
category:
  - 计算机
tag:
  - 测速
---

<!-- more --> 

> 如果你想要测试从机器 **A 发送到机器 B** 的带宽，
>
> 你需要在机器 B 上启动 iperf 的服务器端，
>
> 在机器 A 上启动 iperf 的客户端。下面是具体的步骤：
>

## 服务器端 (机器 B)

```sh
iperf3 -s -p 5201
```

## 客户端 (机器 A)

```sh
iperf3 -c 117.43.0.71 -t 20 -p 5201
```

## iperf3 参数说明


`iperf3` 是一个用于测量网络带宽性能的应用程序。它可以使用 TCP 或 UDP 协议，并支持多种功能，包括带宽测试、延迟抖动测试等。以下是一些常用的 iperf3` 参数及其解释：

### 基本参数

| 参数 | 描述 |
|------|------|
| `-s` | 作为服务器运行 |
| `-c <host>` | 指定客户端要连接的服务器地址 |
| `-t <seconds>` | 指定测试的持续时间（秒） |
| `-p <port>` | 指定使用的端口（默认为 5001） |
| `-i <seconds>` | 设置报告的间隔时间（默认为每秒一次） |
| `-J` | 生成 JSON 格式的输出 |
| `-f <units>` | 设置输出单位：`KMGkMG`（默认）、`KMGT`、`B8`、`b8` |
| `-V` | 显示版本信息 |
| `-n <size>` | 指定测试传输的文件总量: ( 1G ) |



### TCP 相关参数

| 参数 | 描述 |
|------|------|
| `-R` | 反向模式，使客户端接收数据 |
| `-P <n>` | 使用多个并行客户端连接（默认为 1） |
| `-l <bytes>` | 设置 TCP 发送缓冲区大小（默认为系统默认值） |
| `-w <bytes>` | 设置 TCP 发送窗口大小（默认由内核决定） |
| `-Z` | 使用 SCTP 协议（如果支持的话） |

### UDP 相关参数

| 参数 | 描述 |
|------|------|
| `-u` | 使用 UDP 协议而非默认的 TCP 协议 |
| `-b <bandwidth>` | 设置 UDP 发送带宽目标（默认单位为 Kbits/s） |
| `-B <host>` | 使用给定的源地址绑定接口 |
| `-N` | 不对 UDP 数据进行 Nagle 算法处理 |

### 其他参数

| 参数 | 描述 |
|------|------|
| `-D` | 作为守护进程运行（仅限服务器模式） |
| `-h` | 显示帮助信息 |
| `-v` | 显示详细信息 |
| `-d` | 同时进行双向测试（发送和接收） |
| `-C <config-file>` | 从配置文件中读取选项 |
| `-F` | 强制覆盖输出文件（仅当 `-o` 指定输出文件时有效） |

